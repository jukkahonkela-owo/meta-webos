From dee257a8e74dfbdebf1a7a151dcb9fb836606080 Mon Sep 17 00:00:00 2001
From: Jukka Honkela <jukka.honkela@palm.com>
Date: Thu, 4 Oct 2012 14:21:24 +0300
Subject: [PATCH] Upstart 1.5 compatibility changes

Open-webOS-DCO-1.0-Signed-off-by: Jukka Honkela <jukka.honkela@palm.com>
---
 files/launch/PmLogDaemon.conf.in |   42 ++++++++++++++++++++++++++++++++++++++
 files/launch/PmLogDaemon.in      |   42 --------------------------------------
 2 files changed, 42 insertions(+), 42 deletions(-)
 create mode 100644 files/launch/PmLogDaemon.conf.in
 delete mode 100644 files/launch/PmLogDaemon.in

diff --git a/files/launch/PmLogDaemon.conf.in b/files/launch/PmLogDaemon.conf.in
new file mode 100644
index 0000000..31b6e6c
--- /dev/null
+++ b/files/launch/PmLogDaemon.conf.in
@@ -0,0 +1,42 @@
+# @@@LICENSE
+#
+#      Copyright (c) 2007-2012 Hewlett-Packard Development Company, L.P.
+#
+# Licensed under the Apache License, Version 2.0 (the "License");
+# you may not use this file except in compliance with the License.
+# You may obtain a copy of the License at
+#
+# http://www.apache.org/licenses/LICENSE-2.0
+#
+# Unless required by applicable law or agreed to in writing, software
+# distributed under the License is distributed on an "AS IS" BASIS,
+# WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
+# See the License for the specific language governing permissions and
+# limitations under the License.
+#
+# LICENSE@@@
+
+
+# PmLogDaemon
+
+description	"@WEBOS_PROJECT_SUMMARY@"
+
+#start on stopped mountall
+start on stopped populate-volatile
+
+#stop on runlevel [!2]
+
+respawn
+
+console output
+
+#--------------------------------------------------------
+# This is the PmLogDaemon setup
+#
+# Configuration:
+#  -v      = log configuration on startup
+#  -z      = use RFC 3339 timestamp format (UTC/Z)
+#  -m      = include monotonic clock
+#  -f 6    = show timestamps with high resolution (usecs)
+#--------------------------------------------------------
+exec @WEBOS_INSTALL_SBINDIR@/PmLogDaemon -z -f 6 -m
diff --git a/files/launch/PmLogDaemon.in b/files/launch/PmLogDaemon.in
deleted file mode 100644
index 31b6e6c..0000000
--- a/files/launch/PmLogDaemon.in
+++ /dev/null
@@ -1,42 +0,0 @@
-# @@@LICENSE
-#
-#      Copyright (c) 2007-2012 Hewlett-Packard Development Company, L.P.
-#
-# Licensed under the Apache License, Version 2.0 (the "License");
-# you may not use this file except in compliance with the License.
-# You may obtain a copy of the License at
-#
-# http://www.apache.org/licenses/LICENSE-2.0
-#
-# Unless required by applicable law or agreed to in writing, software
-# distributed under the License is distributed on an "AS IS" BASIS,
-# WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
-# See the License for the specific language governing permissions and
-# limitations under the License.
-#
-# LICENSE@@@
-
-
-# PmLogDaemon
-
-description	"@WEBOS_PROJECT_SUMMARY@"
-
-#start on stopped mountall
-start on stopped hostname
-
-#stop on runlevel [!2]
-
-respawn
-
-console output
-
-#--------------------------------------------------------
-# This is the PmLogDaemon setup
-#
-# Configuration:
-#  -v      = log configuration on startup
-#  -z      = use RFC 3339 timestamp format (UTC/Z)
-#  -m      = include monotonic clock
-#  -f 6    = show timestamps with high resolution (usecs)
-#--------------------------------------------------------
-exec @WEBOS_INSTALL_SBINDIR@/PmLogDaemon -z -f 6 -m
-- 
1.7.9.5

